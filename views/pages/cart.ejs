<%- include('../partials/header', {pageTitle: pageTitle, user:user}) %>
<section id="cartSection" class="h-100 gradient-custom">
	<!-- Confirmation Modal -->
	<div
		class="modal fade"
		id="clearCartModal"
		tabindex="-1"
		aria-labelledby="clearCartModalLabel"
		aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="clearCartModalLabel">
						Clear Cart Confirmation
					</h5>
					<button
						type="button"
						class="btn-close"
						data-mdb-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">
					Are you sure you want to clear your cart? This action cannot be
					undone.
				</div>
				<div class="modal-footer">
					<button
						type="button"
						class="btn btn-secondary"
						data-mdb-dismiss="modal">
						Cancel
					</button>
					<button type="button" class="btn btn-danger" id="confirmClearCart">
						Clear Cart
					</button>
				</div>
			</div>
		</div>
	</div>
	<div id="cartItemsList" class="container py-5">
		<%if(message){%>
		<div class="alert alert-primary" role="alert"><%=message%></div>
		<%}%> <% if(cart.items && cart.items.length !== 0) {%>
		<div class="row d-flex justify-content-center my-4">
			<div class="col-md-8">
				<div class="card mb-4">
					<div
						class="card-header d-flex justify-content-between align-items-center py-3">
						<h5 class="mb-0">
							<strong>Cart: </strong
							><span id="cartLength"><%= cart.items.length %></span> items
						</h5>
						<button
							id="clearCartButton"
							class="btn btn-sm btn-outline-danger fw-bold">
							Clear Cart
						</button>
					</div>
					<% cart.items.forEach(item => { %>
					<div class="card-body">
						<%- include('../partials/cart-item', {item: item}) %>
					</div>
					<% }); %>
				</div>
				<div class="card mb-4">
					<div class="card-body">
						<p><strong>Expected shipping delivery</strong></p>
						<p class="mb-0">12.10.2020 - 14.10.2020</p>
					</div>
				</div>
				<div class="card mb-4 mb-lg-0">
					<div class="card-body">
						<p><strong>We accept</strong></p>
						<img
							class="me-2"
							width="45px"
							src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/visa.svg"
							alt="Visa" />
						<img
							class="me-2"
							width="45px"
							src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/amex.svg"
							alt="American Express" />
						<img
							class="me-2"
							width="45px"
							src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/mastercard.svg"
							alt="Mastercard" />
						<img
							class="me-2"
							width="45px"
							src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce/includes/gateways/paypal/assets/images/paypal.webp"
							alt="PayPal acceptance mark" />
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="card mb-4">
					<div class="card-header py-3">
						<h5 class="mb-0">Summary</h5>
					</div>
					<div class="card-body">
						<ul class="list-group list-group-flush">
							<li
								class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
								Total Items
								<span class="totalCartItems"><%= cart.totalItems %></span>
							</li>
							<li
								class="list-group-item d-flex justify-content-between align-items-center px-0">
								Total Price
								<span class="totalCartPrice"
									>$<%= cart.totalPrice.toFixed(2) %></span
								>
							</li>
							<li
								class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
								<div>
									<strong>Total amount</strong>
									<strong>
										<p class="mb-0">(including VAT)</p>
									</strong>
								</div>
								<span><strong>$53.98</strong></span>
							</li>
						</ul>

						<button
							type="button"
							data-mdb-button-init
							data-mdb-ripple-init
							class="btn btn-primary btn-lg btn-block">
							Go to checkout
						</button>
					</div>
				</div>
			</div>
		</div>
		<% }else{ %>
		<div
			class="d-flex flex-column gap-5 justify-content-center align-items-center text-center">
			<img src="/images/7612.jpg" width="500" class="img-fluid" alt="">
			<h1>The Cart is Empty!</h1>
			<a href="/products" class="btn btn-lg btn-primary"
				>Continue Shopping</a
			>
		</div>
		<% } %>
	</div>
</section>
<%- include('../partials/footer') %>
